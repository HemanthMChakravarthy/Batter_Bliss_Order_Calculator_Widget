<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Batter & Bliss</title>
  <style>
    :root{
      --bg:#fffdf9;
      --text:#1a1a1a;
      --muted:#6b6b6b;
      --brand:#8b5cf6;
      --brand-dark:#6d28d9;
      --card:#ffffff;
      --border:#eee8dd;
      --shadow:0 6px 24px rgba(0,0,0,0.08);
      --radius:14px;
      --maxw:1100px;
    }
    *{box-sizing:border-box}
    html,body{margin:0;padding:0;background:var(--bg);color:var(--text);font-family:system-ui,-apple-system,Segoe UI,Inter,Roboto,Helvetica,Arial,sans-serif;line-height:1.6}
    a{color:var(--brand);text-decoration:none}
    img{max-width:100%;display:block}

    .site-header{position:sticky;top:0;z-index:50;background:rgba(255,253,249,0.9);backdrop-filter:saturate(1.2) blur(6px);border-bottom:1px solid var(--border)}
    .container{max-width:var(--maxw);margin:0 auto;padding:0 20px}
    .header-inner{display:flex;align-items:center;justify-content:space-between;height:64px}
    .brand{display:flex;align-items:center;gap:10px}
    .brand-logo{width:36px;height:36px;border-radius:50%;background:linear-gradient(135deg,#fcd34d,#f59e0b 55%,#f472b6);box-shadow:inset 0 0 0 2px rgba(255,255,255,0.6),0 6px 18px rgba(245,158,11,0.35)}
    .brand-name{font-weight:800;letter-spacing:0.3px}
    .nav{display:flex;gap:18px}
    .nav a{color:var(--text);opacity:0.85;font-weight:600}
    .nav a:hover{opacity:1}

    .hero{position:relative;overflow:hidden;background:linear-gradient(180deg, #fff7e6 0%, #fffdf9 35%);border-bottom:1px solid var(--border)}
    .hero-inner{max-width:var(--maxw);margin:0 auto;padding:48px 20px 28px;display:grid;grid-template-columns:1.2fr 1fr;gap:28px}
    @media (max-width: 900px){ .hero-inner{grid-template-columns:1fr;gap:16px} }
    .hero-copy h1{font-size:clamp(28px,4vw,44px);line-height:1.15;margin:0 0 10px}
    .hero-copy p{color:var(--muted);margin:0 0 18px}
    .cta-row{display:flex;gap:12px;flex-wrap:wrap}
    .btn{display:inline-flex;align-items:center;justify-content:center;padding:10px 16px;border-radius:12px;border:1px solid var(--border);background:#fff;color:#1a1a1a;font-weight:700;cursor:pointer;box-shadow:var(--shadow)}
    .btn-primary{background:var(--brand);border-color:transparent;color:#fff}
    .btn-primary:hover{background:var(--brand-dark)}
    .btn-outline{background:#fff}
    .btn-outline:hover{border-color:#ddd}

    .hero-media{background:var(--card);border:1px solid var(--border);border-radius:20px;box-shadow:var(--shadow);overflow:hidden;position:relative;min-height:280px}
    .slides{display:flex;width:300%;height:100%;animation:slide 15s infinite}
    .slide{flex:1 0 100%;position:relative}
    .slide img{width:100%;height:100%;object-fit:cover}
    .badge{position:absolute;top:12px;left:12px;background:rgba(255,255,255,0.9);backdrop-filter:blur(4px);padding:6px 10px;border-radius:999px;border:1px solid var(--border);font-weight:700;font-size:13px}
    @keyframes slide{
      0%{transform:translateX(0)}
      25%{transform:translateX(0)}
      33%{transform:translateX(-100%)}
      58%{transform:translateX(-100%)}
      66%{transform:translateX(-200%)}
      91%{transform:translateX(-200%)}
      100%{transform:translateX(0)}
    }

    .section{padding:36px 20px}
    .section .inner{max-width:var(--maxw);margin:0 auto}
    .grid{display:grid;gap:22px;grid-template-columns:repeat(12,1fr)}
    .card{background:var(--card);border:1px solid var(--border);border-radius:18px;box-shadow:var(--shadow);overflow:hidden}
    .card-body{padding:18px}
    .kicker{color:#a78bfa;font-weight:800;letter-spacing:.4px;text-transform:uppercase;font-size:12px;margin-bottom:4px}

    .product{grid-column:span 6;display:grid;grid-template-columns:1.2fr 1fr;gap:0;min-height:280px}
    .product .media{overflow:hidden}
    .product .media img{width:100%;height:100%;object-fit:cover}
    .product .info{padding:18px}
    .product h3{margin:6px 0 8px}
    .price{font-weight:800}
    .muted{color:var(--muted)}
    @media (max-width: 900px){ .product{grid-column:span 12;grid-template-columns:1fr} }

    .features{display:grid;gap:16px;grid-template-columns:repeat(3,1fr)}
    .feature{background:#ffffff;border:1px solid var(--border);border-radius:14px;padding:14px;display:flex;gap:12px;align-items:flex-start}
    .icon{width:36px;height:36px;border-radius:10px;background:linear-gradient(135deg,#a78bfa,#22d3ee);flex-shrink:0}
    @media (max-width: 800px){ .features{grid-template-columns:1fr} }

    .site-footer{border-top:1px solid var(--border);background:#fff;margin-top:20px}
    .footer-inner{max-width:var(--maxw);margin:0 auto;padding:26px 20px;display:flex;flex-wrap:wrap;gap:16px;align-items:center;justify-content:space-between}
    .small{font-size:13px;color:var(--muted)}

    /* Widget container spacing */
    #bb-widget-mount { margin: 10px 0 0; }
  </style>
</head>
<body>

  <!-- Header -->
  <header class="site-header">
    <div class="container">
      <div class="header-inner">
        <div class="brand">
          <div class="brand-logo" aria-hidden="true"></div>
          <div class="brand-name">Batter &amp; Bliss</div>
        </div>
        <nav class="nav" aria-label="Primary">
          <a href="#products">Products</a>
          <a href="#about">About</a>
          <a href="#order">Order</a>
        </nav>
      </div>
    </div>
  </header>

  <!-- Hero -->
  <section class="hero" id="home">
    <div class="hero-inner">
      <div class="hero-copy">
        <div class="kicker">Fresh. Authentic. Everyday.</div>
        <h1>South Indian staples, made easy</h1>
        <p>Stone-ground dosa batter and zesty chutneys prepared with care—so breakfast and dinner are always one flip away.</p>
        <div class="cta-row">
          <a href="#order" class="btn btn-primary">Order now</a>
          <a href="#products" class="btn btn-outline">Explore products</a>
        </div>
      </div>
      <div class="hero-media" aria-label="Product highlights carousel">
        <div class="slides">
          <div class="slide">
            <span class="badge">Best Seller</span>
            <img src="https://images.unsplash.com/photo-1599487488170-d11ec9c1723e?q=80&w=1600&auto=format&fit=crop" alt="Plain dosa on cast iron tawa" />
          </div>
          <div class="slide">
            <span class="badge">Small Batch</span>
            <img src="https://images.unsplash.com/photo-1625944525739-f1bf0d94d541?q=80&w=1600&auto=format&fit=crop" alt="Ginger chutney in bowl" />
          </div>
          <div class="slide">
            <span class="badge">Ready to Cook</span>
            <img src="https://images.unsplash.com/photo-1604908554011-1f225344d3a3?q=80&w=1600&auto=format&fit=crop" alt="Crispy dosa roll" />
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- Features -->
  <section class="section" id="about" aria-labelledby="features-title">
    <div class="inner">
      <h2 id="features-title" style="margin:0 0 10px">Why Batter &amp; Bliss?</h2>
      <div class="features">
        <div class="feature">
          <div class="icon" aria-hidden="true"></div>
          <div>
            <strong>Traditional method</strong><br />
            Soaked, stone‑ground, and slow‑fermented for authentic flavor and texture.
          </div>
        </div>
        <div class="feature">
          <div class="icon" aria-hidden="true"></div>
          <div>
            <strong>Fresh ingredients</strong><br />
            No preservatives. Just quality grains, spices, and time.
          </div>
        </div>
        <div class="feature">
          <div class="icon" aria-hidden="true"></div>
          <div>
            <strong>Cook with confidence</strong><br />
            Consistent results—crispy dosas and cloud‑soft idlis, every time.
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- Products -->
  <section class="section" id="products" aria-labelledby="products-title">
    <div class="inner">
      <h2 id="products-title" style="margin:0 0 10px">Our Products</h2>
      <div class="grid">
        <article class="product card" aria-labelledby="p1-title">
          <div class="media">
            <img src="https://images.unsplash.com/photo-1604908554011-1f225344d3a3?q=80&w=1600&auto=format&fit=crop" alt="Plain Dosa Batter cooked as dosa" />
          </div>
          <div class="info">
            <div class="kicker">Plain Dosa Batter</div>
            <h3 id="p1-title">Plain Dosa Batter</h3>
            <p class="muted">Stone‑ground and naturally fermented for classic crispy‑edge, soft‑center texture. Great for dosas and uttapams.</p>
            <p class="price">$7.99 / 32oz</p>
            <div class="cta-row">
              <a href="#order" class="btn btn-primary">Add to order</a>
              <a href="#how-to" class="btn btn-outline">Cooking tips</a>
            </div>
          </div>
        </article>

        <article class="product card" aria-labelledby="p2-title">
          <div class="media">
            <img src="https://images.unsplash.com/photo-1625944525739-f1bf0d94d541?q=80&w=1600&auto=format&fit=crop" alt="Ginger Chutney bowl" />
          </div>
          <div class="info">
            <div class="kicker">Ginger Chutney</div>
            <h3 id="p2-title">Ginger Chutney</h3>
            <p class="muted">Aromatic, spicy, and slightly sweet—pairs perfectly with dosas, idlis, and snacks.</p>
            <p class="price">$5.49 / 8oz</p>
            <div class="cta-row">
              <a href="#order" class="btn btn-primary">Add to order</a>
              <a href="#ingredients" class="btn btn-outline">Ingredients</a>
            </div>
          </div>
        </article>
      </div>
    </div>
  </section>

  <!-- Order + Widget -->
  <section class="section" id="order" aria-labelledby="order-title" style="padding-top:8px">
    <div class="inner card">
      <div class="card-body">
        <h2 id="order-title" style="margin:6px 0 12px">Build Your Order</h2>
        <p class="muted" style="margin:0 0 14px">
          Use the calculator to estimate your total. Batters require a minimum of 2 lb per item. Pickup in Walled Lake, MI.
        </p>

        <!-- Batter & Bliss Order Summary Widget -->
        <div id="bb-widget-mount"></div>
        <script type="text/javascript">
        (function(){
          var mount = document.getElementById('bb-widget-mount');
          if (!mount) {
            mount = document.createElement('div');
            mount.id = 'bb-widget-mount';
            document.currentScript.parentNode.insertBefore(mount, document.currentScript);
          }
          var iframe = document.createElement('iframe');
          iframe.setAttribute('loading','lazy');
          iframe.style.width = '100%';
          iframe.style.height = '980px';
          iframe.style.border = '0';
          iframe.style.borderRadius = '12px';
          iframe.style.overflow = 'hidden';
          mount.appendChild(iframe);

          var srcdoc = '\
          <!doctype html>\
          <html><head>\
            <meta charset="utf-8"/>\
            <meta name="viewport" content="width=device-width,initial-scale=1"/>\
            <style>\
              html,body{margin:0;padding:16px;background:#fff}\
              .bbw{--accent:#ff6a00;--bg:#fff;--text:#1a1a1a;--muted:#666;--line:#e9e9e9;font-family:system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial,sans-serif;color:var(--text)}\
              .bbw *{box-sizing:border-box}\
              .bbw .card{background:var(--bg);border:1px solid var(--line);border-radius:14px;padding:16px}\
              .bbw h2{margin:0 0 10px;font-size:20px}\
              .bbw h3{margin:0 0 8px;font-size:16px}\
              .bbw .muted{color:var(--muted);font-size:13px}\
              .bbw .grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(240px,1fr));gap:12px}\
              .bbw .row{display:flex;align-items:center;justify-content:space-between;gap:10px;padding:10px 0;border-top:1px dashed var(--line)}\
              .bbw .row:first-child{border-top:none}\
              .bbw .name{font-weight:600}\
              .bbw .unit{font-size:12px;color:var(--muted)}\
              .bbw .qty{display:flex;align-items:center;gap:6px}\
              .bbw input[type=number]{width:90px;padding:8px 10px;border:1px solid var(--line);border-radius:10px;font-size:14px}\
              .bbw .stepper{display:inline-flex;border:1px solid var(--line);border-radius:10px;overflow:hidden}\
              .bbw .stepper button{background:#f9f9f9;border:0;padding:6px 10px;cursor:pointer;font-weight:700}\
              .bbw .stepper input{width:70px;border:0;padding:6px 10px;text-align:center}\
              .bbw .warn{color:#a83232;font-size:12px;margin-top:4px}\
              .bbw .summary{display:grid;grid-template-columns:1fr auto;gap:6px;font-size:14px}\
              .bbw .summary .label{color:var(--muted)}\
              .bbw .total{font-size:18px;font-weight:800}\
              .bbw .badge{display:inline-block;background:rgba(255,106,0,.08);color:var(--accent);padding:4px 8px;border-radius:999px;font-size:12px;font-weight:700}\
              .bbw .cta{display:inline-block;background:var(--accent);color:#fff;text-decoration:none;border:0;border-radius:12px;padding:10px 14px;font-weight:800;cursor:pointer}\
              .bbw .stack{display:grid;gap:12px}\
              .bbw .section{border:1px solid var(--line);border-radius:14px;padding:14px}\
              .bbw .note{font-size:12px;color:var(--muted)}\
              .bbw .line{height:1px;background:var(--line);margin:10px 0}\
            </style>\
          </head><body>\
            <div class="bbw" id="bbw-root">\
              <div class="stack">\
                <div class="card">\
                  <h2>Build Your Order</h2>\
                  <div class="muted">Select quantities to estimate your total. Batters require a minimum of 2 lb per item. Pickup in Walled Lake, MI.</div>\
                </div>\
                <div class="section">\
                  <h3>Batters <span class="badge">2 lb min per item</span></h3>\
                  <div class="grid" id="grid-batters"></div>\
                </div>\
                <div class="section">\
                  <h3>Fresh Chutneys</h3>\
                  <div class="grid" id="grid-chutneys"></div>\
                </div>\
                <div class="section">\
                  <h3>Order Summary</h3>\
                  <div class="summary" id="sum-lines"></div>\
                  <div class="line"></div>\
                  <div class="summary">\
                    <div class="label">Subtotal</div><div id="subtotal">$0.00</div>\
                    <div class="label">Discount</div><div id="discount">$0.00</div>\
                    <div class="label">Estimated Total</div><div class="total" id="total">$0.00</div>\
                  </div>\
                  <div class="muted" id="discLabel" style="margin-top:6px">No discount</div>\
                  <div style="margin-top:12px;display:flex;gap:8px;flex-wrap:wrap">\
                    <button class="cta" id="copyQuote">Copy Quote</button>\
                    <a class="cta" style="background:#333" href="#order-form">Go to Order Form</a>\
                  </div>\
                  <div class="note" style="margin-top:8px">Final totals may adjust at confirmation. Discounts are applied automatically based on order subtotal.</div>\
                </div>\
              </div>\
            </div>\
            <script>\
              (function(){\
                var ITEMS=[\
                  {id:"plain_dosa",name:"Plain Dosa Batter",unit:"$/lb",price:3,kind:"batter",min:2},\
                  {id:"ragi_dosa",name:"Ragi Dosa Batter",unit:"$/lb",price:5,kind:"batter",min:2},\
                  {id:"millet_dosa",name:"Millet Dosa Batter",unit:"$/lb",price:6,kind:"batter",min:2},\
                  {id:"pesarattu",name:"Pesarattu (Moong Dal)",unit:"$/lb",price:5,kind:"batter",min:2},\
                  {id:"idli",name:"Idli Batter",unit:"$/lb",price:5,kind:"batter",min:2},\
                  {id:"millet_idli",name:"Millet Idli Batter",unit:"$/lb",price:6,kind:"batter",min:2},\
                  {id:"vada",name:"Wada Batter",unit:"$/lb",price:6,kind:"batter",min:2},\
                  {id:"chut_peanut",name:"Groundnut (Peanut)",unit:"$/8oz",price:4,kind:"chutney",min:0},\
                  {id:"chut_tomato",name:"Tomato",unit:"$/8oz",price:4,kind:"chutney",min:0},\
                  {id:"chut_ginger",name:"Ginger",unit:"$/8oz",price:5,kind:"chutney",min:0}\
                ];\
                function getDiscount(subtotal) {
                  let rate = 0;
                  if (subtotal >= 150) rate = 0.25;
                  else if (subtotal >= 100) rate = 0.20;
                  else if (subtotal >= 75) rate = 0.15;
                  else if (subtotal >= 50) rate = 0.10;
                  else if (subtotal >= 20) rate = 0.05;
                  return {
                    rate: rate,
                    label: rate > 0 ? `${Math.round(rate * 100)}% discount applied` : 'No discount'
                  };
                }

                const formatCurrency = (amount) => `$${(Math.round(amount * 100) / 100).toFixed(2)}`;
                const rootElement = document.getElementById('bbw-root');
                const gridBatters = rootElement.querySelector('#grid-batters');
                const gridChutneys = rootElement.querySelector('#grid-chutneys');

                function clampValue(value, isBatter) {
                  let number = parseFloat(value || '0');
                  if (isNaN(number) || number < 0) number = 0;
                  return isBatter ? Math.round(number * 2) / 2 : Math.round(number);
                }

                function createCard(item) {
                  const card = document.createElement('div');
                  card.className = 'card';
                  card.innerHTML = `
                    <div class=\"name\">'+item.name+'</div>\
                    <div class=\"unit\">'+item.unit+' — '+cur(item.price)+'</div>\
                    <div class=\"row\">\
                      <div class=\"muted\">'+(item.kind==='batter'?'Enter pounds (lb)':'Enter 8oz tubs')+'</div>\
                      <div class=\"qty\">\
                        <div class=\"stepper\">\
                          <button type=\"button\" aria-label=\"decrease\">-</button>\
                          <input type=\"number\" min=\"0\" step=\"'+(item.kind==='batter'?'0.5':'1')+'\" value=\"0\">\
                          <button type=\"button\" aria-label=\"increase\">+</button>\
                        </div>\
                      </div>\
                    </div>\
                    <div class=\"warn\" style=\"display:none\"></div>\
                  </div>\
                </div>';

                const cardButtons = card.querySelectorAll('button');
                const minusButton = cardButtons[0];
                const plusButton = cardButtons[2];
                const quantityInput = card.querySelector('input');
                const warningElement = card.querySelector('.warn');

                function updateQuantityValue(newQuantity) {
                  const quantity = clamp(newQuantity, item.kind === 'batter');
                  quantityInput.value = quantity;
                  warningElement.style.display = quantity > 0 && quantity < item.min ? '' : 'none';
                  warningElement.textContent = `Minimum ${item.min} lb for ${item.name}.`;
                  updateTotals();
                }

                minusButton.addEventListener('click', () => {
                  const step = item.kind === 'batter' ? 0.5 : 1;
                  updateQuantityValue((parseFloat(quantityInput.value || '0') - step).toString());
                });

                plusButton.addEventListener('click', () => {
                  const step = item.kind === 'batter' ? 0.5 : 1;
                  updateQuantityValue((parseFloat(quantityInput.value || '0') + step).toString());
                });

                quantityInput.addEventListener('input', () => updateQuantityValue(quantityInput.value));
                quantityInput.addEventListener('blur', () => updateQuantityValue(quantityInput.value));

                card.dataset.id = item.id;
                return card;
              }
                ITEMS.filter(function(i){return i.kind==='batter'}).forEach(function(it){gridB.appendChild(makeCard(it))});\
                ITEMS.filter(function(i){return i.kind==='chutney'}).forEach(function(it){gridC.appendChild(makeCard(it))});\
                function getQty(id){ var el=root.querySelector('[data-id=\"'+id+'\"] input'); return parseFloat((el&&el.value)||'0')||0; }\
                function updateTotals(){\
                  var linesHtml=''; var subtotal=0;
                  ITEMS.forEach(function(it){
                    var q=getQty(it.id); if(!q) return; var valid=true;
                    if(it.kind==='batter' && q>0 && q<it.min) valid=false;
                    var lineTotal=valid?(q*it.price):0; if(valid) subtotal+=lineTotal;
                    var qtyLabel=it.kind==='batter'?(q+' lb'):(q+' × 8oz');
                    var invalidLabel=valid?'':' (below minimum, not counted)';
                    linesHtml+='<div class=\"label\">'+it.name+' — '+qtyLabel+invalidLabel+'</div><div>'+cur(lineTotal)+'</div>';
                  });
                  var disc=getDiscount(subtotal);
                  var discountAmt=Math.round(subtotal*disc.rate*100)/100;
                  var total=subtotal-discountAmt;
                  root.querySelector('#sum-lines').innerHTML=linesHtml||'<div class=\"label\">No items selected</div><div>$0.00</div>';
                  root.querySelector('#subtotal').textContent=cur(subtotal);
                  root.querySelector('#discount').textContent='-'+cur(discountAmt);
                  root.querySelector('#total').textContent=cur(total);
                  root.querySelector('#discLabel').textContent=disc.label;
                }
                const copyQuoteButton = root.querySelector('#copyQuote');
                copyQuoteButton.addEventListener('click', () => {
                  const subtotal = root.querySelector('#subtotal').textContent;
                  const discount = root.querySelector('#discount').textContent;
                  const total = root.querySelector('#total').textContent;
                  const itemLabels = Array.from(root.querySelectorAll('#sum-lines .label'));
                  const lines = itemLabels.map(itemLabel => {
                    const value = itemLabel.nextElementSibling ? itemLabel.nextElementSibling.textContent : '';
                    return `${itemLabel.textContent} — ${value}`;
                  });
                  const text = ['Batter & Bliss — Order Estimate', ...lines, `Subtotal: ${subtotal}`, `Discount: ${discount}`, `Estimated Total: ${total}`].join('\n');

                  if (navigator.clipboard && navigator.clipboard.writeText) {
                    navigator.clipboard.writeText(text).then(() => alert('Quote copied to clipboard.'), () => alert('Copy failed. Please copy manually.'));
                  } else {
                    alert(`Select and copy:\n\n${text}`);
                  }
                });
                updateTotals();
              })();
            </script>
          </body>
        </html>';
        iframe.srcdoc = srcdoc;
      })();
    </script>
    <!-- /Batter & Bliss Order Summary Widget -->

  </div>
</section>

<!-- Footer -->
<footer class="site-footer">
    <div class="footer-inner">
      <div class="small">© <span id="y"></span> Batter &amp; Bliss. Crafted with love.</div>
      <div class="small">
        <a href="#home">Home</a> · <a href="#products">Products</a> · <a href="#order">Order</a>
      </div>
    </div>
  </footer>

  <script>
    document.getElementById('y').textContent = new Date().getFullYear();
  </script>
</body>
</html>
